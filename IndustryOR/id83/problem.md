A certain restaurant operates around the clock, and the number of waiters needed in 24 hours is shown in Table 1.1.

Table 1.1

| Time | Minimum Number of Waiters Needed | Time | Minimum Number of Waiters Needed |
|:-----------:|:-------------------------------:|:-----------:|:-------------------------------:|
| $2 \sim 6$ | 4 | $14 \sim 18$| 7 |
| $6 \sim 10$ | 8 | $18 \sim 22$| 12 |
| $10 \sim 14$| 10 | $22 \sim 2$ | 4 |

Each waiter works continuously for 8 hours a day. The goal is to find the minimum number of waiters that meet the above conditions and represent this problem as a linear programming model.

# 问题

## 问题描述
一家餐厅需要为其24小时的运营安排服务员。整个24小时被划分为6个不同的时间段，每个时间段对服务员的最小需求数量不同。所有服务员均采用连续工作8小时的轮班制度。问题的目标是，在满足所有时间段最低服务员需求的前提下，确定每个班次需要安排多少名服务员，从而使得餐厅雇佣的总服务员人数最少。

## 问题分析
这是一个典型的**循环排班问题 (Cyclic Staffing Problem)**，属于整数线性规划 (Integer Linear Programming, ILP) 的范畴。其核心特征是决策变量（各班次安排的人数）必须为整数，且约束条件具有循环性（例如，深夜22点开始的班次会覆盖到第二天的凌晨）。我们的目标是最小化总员工数，这是一个标准的优化目标。

此模型建立在一些关键的简化假设之上。在实际应用中，可以对这些假设进行扩展，以构建更复杂的模型。例如，若允许班次的开始时间更灵活（如每小时均可开始），决策变量将从6个增加到24个，可能找到成本更低的排班方案。

## 核心假设
1.  **员工同质性 (Homogeneity):** 所有服务员的工作能力和效率相同，可以相互替代。
2.  **班次起点固定 (Fixed Shift Start Times):** 服务员的8小时轮班只能在6个给定的4小时时间段的起点开始（即2:00, 6:00, 10:00, 14:00, 18:00, 22:00）。
3.  **工作效率恒定 (Constant Work Efficiency):** 员工在8小时工作期间被视为100%有效，不考虑中间的休息或就餐时间。
4.  **需求刚性 (Inflexible Demand):** 每个时间段所需的服务员数量是必须满足的硬性下限，不能少于该数量。
5.  **周期稳定性 (Cyclic Schedule):** 每日的排班需求是相同的，形成一个24小时的稳定周期。

## 数据定义
此问题中的数据主要包括时间段的划分以及每个时间段的最小人员需求。

*   **集合 (Sets)**
    *   $T$: 所有4小时工作时间段的集合。我们用索引 $t=1, 2, ..., 6$ 来表示。
        *   $t=1$: $2 \sim 6$
        *   $t=2$: $6 \sim 10$
        *   $t=3$: $10 \sim 14$
        *   $t=4$: $14 \sim 18$
        *   $t=5$: $18 \sim 22$
        *   $t=6$: $22 \sim 2$ (次日)

*   **参数 (Parameters)**
    *   $D_t$: 在时间段 $t$ 内，所需的最少服务员数量。

具体数值如下：
| 索引 $t$ | 时间段 | 最小需求人数 $D_t$ |
| :--- | :--- | :--- |
| 1 | $2 \sim 6$ | 4 |
| 2 | $6 \sim 10$ | 8 |
| 3 | $10 \sim 14$| 10 |
| 4 | $14 \sim 18$| 7 |
| 5 | $18 \sim 22$| 12 |
| 6 | $22 \sim 2$ | 4 |

# 数学形式

## 变量定义
我们的决策是确定在每个可能的时间点开始工作的人数。
*   $x_t$: 在时间段 $t$ 的起始时刻开始其8小时连续工作的服务员人数。
    *   $x_t \in \mathbb{Z}^+, \forall t \in T$ (人数必须为非负整数)

## 目标函数
目标是最小化餐厅雇佣的总服务员人数。总人数等于所有班次人数的总和。
*   **最小化总人数:** $\min \sum_{t=1}^{6} x_t$

**扩展讨论:** 此目标函数也可以轻松扩展为最小化总成本。若不同班次的薪资不同（例如夜班补贴），可引入成本参数 $c_t$ (在时段 $t$ 开始工作的员工的单位成本)，则目标函数变为：$\min \sum_{t=1}^{6} c_t \cdot x_t$。

## 约束条件
模型必须确保每个4小时时间段内，在岗的服务员总数不少于该时段的最小需求。

#### **班次-时段覆盖矩阵**
下表清晰地展示了每个班次（列）所覆盖的工作时间段（行）。一个8小时的班次会连续覆盖两个4小时的时间段。

| | 班次 $x_1$ (2:00开始) | 班次 $x_2$ (6:00开始) | 班次 $x_3$ (10:00开始) | 班次 $x_4$ (14:00开始) | 班次 $x_5$ (18:00开始) | 班次 $x_6$ (22:00开始) |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: |
| **时段 1 (2-6)** | ✔ | | | | | ✔ |
| **时段 2 (6-10)** | ✔ | ✔ | | | | |
| **时段 3 (10-14)**| | ✔ | ✔ | | | |
| **时段 4 (14-18)**| | | ✔ | ✔ | | |
| **时段 5 (18-22)**| | | | ✔ | ✔ | |
| **时段 6 (22-2)** | | | | | ✔ | ✔ |

根据上表，我们可以构建如下约束：

1.  **时段 1 ($2 \sim 6$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从2点开始工作的 ($x_1$) 和从前一天22点开始工作的 ($x_6$)。
    *   **公式:** $x_6 + x_1 \ge D_1 = 4$

2.  **时段 2 ($6 \sim 10$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从6点开始工作的 ($x_2$) 和从2点开始工作的 ($x_1$)。
    *   **公式:** $x_1 + x_2 \ge D_2 = 8$

3.  **时段 3 ($10 \sim 14$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从10点开始工作的 ($x_3$) 和从6点开始工作的 ($x_2$)。
    *   **公式:** $x_2 + x_3 \ge D_3 = 10$

4.  **时段 4 ($14 \sim 18$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从14点开始工作的 ($x_4$) 和从10点开始工作的 ($x_3$)。
    *   **公式:** $x_3 + x_4 \ge D_4 = 7$

5.  **时段 5 ($18 \sim 22$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从18点开始工作的 ($x_5$) 和从14点开始工作的 ($x_4$)。
    *   **公式:** $x_4 + x_5 \ge D_5 = 12$

6.  **时段 6 ($22 \sim 2$) 需求约束:**
    *   **说明:** 在此期间，在岗的员工包括从22点开始工作的 ($x_6$) 和从18点开始工作的 ($x_5$)。
    *   **公式:** $x_5 + x_6 \ge D_6 = 4$

#### **泛化形式**
为体现模型的通用性，上述6个约束可以用一个统一的公式表示。定义 $x_0 = x_6$，则约束可写为：
*   **公式:** $x_{t-1} + x_t \ge D_t, \quad \forall t \in \{1, 2, 3, 4, 5, 6\}$

#### **变量类型约束**
*   **说明:** 每个班次安排的人数必须是非负整数。
*   **公式:** $x_t \ge 0 \text{ and } x_t \in \mathbb{Z}, \quad \forall t \in \{1, 2, 3, 4, 5, 6\}$

---
## 模型全览
**最小化 (Minimize):**
$$
\sum_{t=1}^{6} x_t
$$

**满足约束 (Subject to):**
$$
\begin{align*}
x_6 + x_1 &\ge 4 \\
x_1 + x_2 &\ge 8 \\
x_2 + x_3 &\ge 10 \\
x_3 + x_4 &\ge 7 \\
x_4 + x_5 &\ge 12 \\
x_5 + x_6 &\ge 4 \\
x_t &\ge 0, \quad x_t \in \mathbb{Z}, \quad \forall t \in \{1, 2, 3, 4, 5, 6\}
\end{align*}
$$